<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FORM 2 - Bahagian 3</title>
  <link href="https://fonts.googleapis.com/css2?family=Caveat&display=swap" rel="stylesheet">

  <style>
    body {
      background-color: #fff5fa;
      font-family: 'Caveat', cursive;
      color: #660033;
      padding: 30px;
      margin: 0;
      opacity: 0;
      transition: opacity 1s ease;
    }

    body.visible {
      opacity: 1;
    }

    .diary-wrapper {
      max-width: 800px;
      margin: auto;
      background-color: #ffe6f0;
      border: 2px dashed #ffb6c1;
      border-radius: 20px;
      padding: 30px 25px;
      box-shadow: 0 4px 20px rgba(255, 182, 193, 0.3);
      opacity: 0;
      animation: fadeIn 2s forwards;
    }

    h1 {
      text-align: center;
      font-size: 2.8em;
      color: #cc3366;
      margin-bottom: 20px;
      opacity: 0;
      animation: fadeIn 2s forwards;
      animation-delay: 0.3s;
      animation-fill-mode: forwards;
    }

    .content {
      font-size: 1.6em;
      line-height: 1.9;
      white-space: pre-wrap;
      opacity: 0;
      animation: fadeIn 3s forwards;
      animation-delay: 0.5s;
      animation-fill-mode: forwards;
    }

    .glow-speech {
      display: inline-block;
      background: #ffe0f0;
      border: 2px solid #ffaad4;
      border-radius: 20px;
      padding: 6px 12px;
      margin: 0 4px;
      color: #880044;
      font-weight: bold;
      box-shadow: 0 0 8px #ff99cc, 0 0 15px #ff66bb, 0 0 25px #ff33aa;
    }

    .navigation {
      text-align: center;
      margin-top: 40px;
      opacity: 0;
      animation: fadeIn 2s forwards;
      animation-delay: 0.8s;
      animation-fill-mode: forwards;
    }

    .navigation a {
      display: inline-block;
      margin: 10px;
      padding: 10px 20px;
      background-color: #ff99cc;
      color: white;
      text-decoration: none;
      border-radius: 8px;
      font-weight: bold;
      font-size: 1em;
      font-family: 'Caveat', cursive;
      transition: background-color 0.3s;
    }

    .navigation a:hover {
      background-color: #e06699;
    }

    @media (max-width: 600px) {
      .diary-wrapper {
        padding: 20px;
      }
      .content {
        font-size: 1.3em;
      }
      h1 {
        font-size: 2em;
      }
      .navigation a {
        font-size: 0.95em;
        padding: 8px 16px;
      }
    }

    @keyframes fadeIn {
      to { opacity: 1; }
    }

    body.dark-mode {
      background-color: #121212;
      color: #f0c4d7;
    }

    body.dark-mode .diary-wrapper {
      background-color: #2a1a2f;
      border-color: #914d6e;
      box-shadow: 0 4px 20px rgba(145, 77, 110, 0.5);
    }

body.dark-mode .glow-speech {
  display: inline-block;
  background: rgba(60, 20, 40, 0.7);
  border: 2px solid #ffaad4;
  border-radius: 20px;
  padding: 6px 12px;
  margin: 0 4px;
  color: #ffcce6;
  font-weight: bold;
  box-shadow:
    0 0 8px #ff99cc,
    0 0 15px #ff66bb,
    0 0 25px #ff33aa;
}

    body.dark-mode .navigation a {
      background-color: #914d6e;
      color: #ffe6f0;
    }

    body.dark-mode .navigation a:hover {
      background-color: #b36694;
    }

    #toggleTheme {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 9999;
      background-color: #ff99cc;
      color: white;
      padding: 10px 20px;
      border-radius: 8px;
      border: none;
      font-weight: bold;
      font-family: 'Caveat', cursive;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.3s, color 0.3s;
    }

    #toggleTheme:hover {
      background-color: #e06699;
    }

    body.dark-mode #toggleTheme {
      background-color: #914d6e;
      color: #ffe6f0;
    }

    body.dark-mode #toggleTheme:hover {
      background-color: #b36694;
    }

    .last-updated {
      margin-top: 40px;
      text-align: center;
      font-family: 'Caveat', cursive;
      font-size: 1.2em;
      color: #aa3366;
      border-top: 1px dashed #dd88aa;
      padding-top: 10px;
      opacity: 0.8;
    }

    body.dark-mode .last-updated {
      color: #f0c4d7;
      border-color: #914d6e;
    }
  </style>
</head>
<body>
  <button id="toggleTheme" class="theme-toggle">Dark Mode</button>

  <div class="diary-wrapper">
    <h1>FORM 2 - BAHAGIAN 3</h1>
    <div class="content">
      Aku rasa bende ni kau dah tau, but I'll still write it anyways. Kalau kau nampak aku tinggalkan kau, bukan bermaksud aku tknak dengan kau, taknak berkawan dengan kau or benci kau, tapi sebab aku selalu nampak ada orang lain temankan kau so, aku rase kau tak perlukan aku untuk teman kau. Lagipun, aku taknak kacau korang. I always try my best to make sure you weren't walking or standing alone, always make sure you weren't being left out. Setiap kali kalau aku nampak kau jalan sorang¬≤, my mind automatic goes <span class="glow-speech">'Kenapa takde orang teman dia, takkan dari tadi dia sorang¬≤?'</span>. Aku bukan nak pura¬≤ baik ke ape, tapi ini kenyataan. Aku tk nak tengok kau keseorangan, aku benci tengok kau keseorangan. Tapi, kadang¬≤ aku rasa aku tak perlu selalu temankan kau, bc one day you gonna be all by yourself anyway. Tapi aku tau, nak biasakan diri keseorangan tu susah. Masa first time aku jalan sorang¬≤, my heart feels heavy. Aku boleh je tunggu kawan aku supaya aku tak sorang, but aku tak nak jadi orang bodoh yang tunggu orang tapi orang yang tak tunggu aku, so I decided to walk alone. Awal¬≤ memang susah sbb tk nak orang fikir aku ni takde kawan ke ape, but lama¬≤ aku dah OK sikit. I hope kau dah biasakan diri sorang¬≤. BTW aku tulis ni time kita form 2, IDK kalau kau dah ok keseorangan ke tak. And IDK how our friendship would be like when you're reading this.
    </div>

    <div class="navigation">
      <a href="PIPI.html">‚Üê KEMBALI KE SENARAI PILIHAN</a>
      <a href="form2-bahagian2.html">‚Üê BAHAGIAN SEBELUMNYA</a>
      <a href="form2-bahagian4.html">BAHAGIAN SETERUSNYA ‚Üí</a>
    </div>
  </div>

  <div id="lastUpdateMessage" class="last-updated"></div>

  <script>
    const allowedReferrers = [
      "https://marcelinamasuel.github.io/11may2025projectcoding/",
      "https://marcelinamasuel.github.io/11may2025projectcoding/PIPI.html"
    ];

    const fromAllowedPage = allowedReferrers.some(url => document.referrer.startsWith(url));

    if (fromAllowedPage) {
      document.addEventListener("DOMContentLoaded", showPage);
    } else {
      const password = prompt("Masukkan kata laluan:");
      if (password === "akusorangjeadapassword") {
        document.addEventListener("DOMContentLoaded", showPage);
      } else {
        document.write("<h2 style='color:#d63384;text-align:center;margin-top:20%;'>Akses ditolak. Kata laluan salah.</h2>");
      }
    }

    function showPage() {
      document.body.classList.add("visible");
      const toggleBtn = document.getElementById('toggleTheme');
      if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark-mode");
        toggleBtn.textContent = "Change To Light Mode";
      }

      toggleBtn.addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");
        toggleBtn.textContent = isDark ? "Change To Light Mode" : "Change To Dark Mode";
        localStorage.setItem("theme", isDark ? "dark" : "light");
      });

      fetch("update-messages.txt")
        .then(res => res.text())
        .then(text => {
          const messages = text.trim().split("\n").filter(line => line.trim() !== "");
          const randomMsg = messages[Math.floor(Math.random() * messages.length)];
          const msgDiv = document.getElementById("lastUpdateMessage");
          msgDiv.innerHTML = `<em>${randomMsg}</em>`;
        })
        .catch(err => {
          console.error("Tak dapat ambil mesej:", err);
        });
    }

    let inspectUnlocked = false;
    document.addEventListener("contextmenu", function (e) {
      if (!inspectUnlocked) {
        e.preventDefault();
        const pass = prompt("Nak inspect? Masukkan password dulu:");
        if (pass === "kelempiauchao") {
          alert("Okay boleh! Tapi jangan kongsi password ni ya üòò");
          inspectUnlocked = true;
        } else {
          alert("Salah password. Tak boleh inspect!");
        }
      }
    });

    document.addEventListener("keydown", function (e) {
      if (!inspectUnlocked && (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key === "I"))) {
        e.preventDefault();
        const pass = prompt("Nak inspect? Masukkan password dulu:");
        if (pass === "kelempiauchao") {
          alert("Okay boleh! Tapi jangan kongsi password ni ya üòò");
          inspectUnlocked = true;
        } else {
          alert("Salah password. Tak boleh inspect!");
        }
      }
    });
  </script>
</body>
</html>
